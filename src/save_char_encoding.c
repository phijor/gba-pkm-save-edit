#include "save_char_encoding.h"

//" ÀÁÂÇÈÉÊËÌこÎÏÒÓÔ"
//"ŒÙÚÛÑßàáねçèéêëìま"
//"îïòóôœùúûñºª?&+あ"
//"ぃぅぇぉ?=ょがぎぐげござじずぜ"
//"ぞだぢづでどばびぶべぼぱぴぷぺぽ"
//"っ¿¡???????Í%()セソ"
//"タチツテトナニヌâノハヒフヘホí"
//"ミムメモヤユヨラリ⬆⬇⬅➡ヲンァ"
//"ィゥェォャュョガギグゲゴザジズゼ"
//"ゾダヂヅデドバビブベボパピプペポ"
//"ッ0123456789!?.-・"
//"…“”‘’♂♀Ꝑ,×/ABCDE"
//"FGHIJKLMNOPQRSTU"
//"VWXYZabcdefghijk"
//"lmnopqrstuvwxyz▶"
//":ÄÖÜäöü⬆⬇⬅??????"

unsigned char save_char_table[] =
    " AAACEEEEI?IIOOO"
    "CUUUNsaa?ceeeei?"
    "iioooouuun???&+?"
    "????\?=??????????"
    "????????????????"
    "?\?!???????I%()??"
    "????????a??????i"
    "????????????????"
    "????????????????"
    "????????????????"
    "?0123456789!?.-*"
    "???????$,*/ABCDE"
    "FGHIJKLMNOPQRSTU"
    "VWXYZabcdefghijk"
    "lmnopqrstuvwxyz>"
    ":AOUaou?\?<?????\0";

size_t save_string_decode(char* dest, unsigned char* source, size_t length) {
    size_t i = 0;
    for (; i < length; i++) {
        dest[i] = save_char_table[source[i]];
        if (source[i] == 0xff) {
            break;
        }
    }
    return i;
}
